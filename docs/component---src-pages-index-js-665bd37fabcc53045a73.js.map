{"version":3,"sources":["webpack:///./src/components/leafletmap.js","webpack:///./src/components/wikidata.js","webpack:///./src/components/peak.js","webpack:///./src/components/peakslist.js","webpack:///./src/components/peaksandmap.js","webpack:///./src/pages/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/layout.js"],"names":["LeafletMap","props","_this","_React$Component","call","this","mapRef","componentDidUpdate","prevProps","prevState","leafletElement","flyTo","position","positionMap","newPosition","setState","render","_this2","react_default","a","createElement","Map","ref","center","zoom","TileLayer","url","attribution","markerText","Marker","Popup","React","Component","defaultProps","require","Wikidata","get","obj","key","split","reduce","o","x","state","data","id","fetch","then","res","json","wikidata_image","console","log","replace","wikidata_image_md5","md5","substring","index_esm","src","Peak","next_peak","next","color","name","elevation","prevPeakCallback","onClick","nextPeakCallback","wikidata","description","image","PeaksList","activePeak","prevPeak","prev_peak_idx","updateMapPositionCallback","peaks","geometry","envelope","minY","minX","nextPeak","next_peak_idx","peak","next_peak_name","next_peak_callback","prev_peak_callback","bind","length","featureFields","components_peak","ele","PeaksAndMap","updateMapPosition","Fragment","width","peakslist","height","window","components_leafletmap","__webpack_require__","d","__webpack_exports__","query","IndexPage","_ref","highestPeaks","allGeoFeature","edges","node","forEach","edge","parseInt","push","layout","peaksandmap","m","module","exports","default","ProdPageRenderer","location","pageResources","InternalPageRenderer","Object","assign","StaticQueryContext","loader","enqueue","createContext","StaticQueryDataRenderer","staticQueryData","finalData","StaticQuery","children","Consumer","Layout","gatsby_browser_entry_StaticQuery","flexWrap","fontSize","_755544856"],"mappings":"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","file":"component---src-pages-index-js-665bd37fabcc53045a73.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\"\nimport \"./leafletmap.css\"\n\nclass LeafletMap extends React.Component {\n  static propTypes = {\n    /** Latitude and Longitude of the map centre in an array, eg [51, -1] **/\n    position: PropTypes.array,\n\n    /** Initial zoom level for the map (default 13) **/\n    zoom: PropTypes.number,\n\n    /** If set, will display a marker, which when clicked will display this text **/\n    markerText: PropTypes.string,\n  }\n\n  static defaultProps = {\n    position: [51, -1],\n    zoom: 11,\n    markerText: \"\",\n  }\n\n  constructor(props) {\n    super(props)\n    this.mapRef = null\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const map = this.mapRef.leafletElement\n    if (map != null) {\n      this.mapRef.leafletElement.flyTo(this.props.position, 11)\n    }\n  }\n\n  positionMap(newPosition) {\n    this.setState({ position: newPosition })\n  }\n\n  render() {\n    return (\n      <Map\n        ref={ref => (this.mapRef = ref)}\n        center={this.props.position}\n        zoom={this.props.zoom}\n      >\n        <TileLayer\n          url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {this.props.markerText !== \"\" && (\n          <Marker position={this.props.position}>\n            <Popup>{this.props.markerText}</Popup>\n          </Marker>\n        )}\n      </Map>\n    )\n  }\n}\n\nexport default LeafletMap\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Box, Heading, Text, Button, Image } from \"rebass\"\nimport md5 from \"md5\"\nconst axios = require(\"axios\")\n\nclass Wikidata extends React.Component {\n  static propTypes = {\n    /** Latitude and Longitude of the map centre in an array, eg [51, -1] **/\n    id: PropTypes.string,\n  }\n\n  static defaultProps = {\n    id: null,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { data: [] }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.id != this.props.id) {\n      if (this.props.id) {\n        fetch(\n          \"https://www.wikidata.org/wiki/Special:EntityData/\" +\n            this.props.id +\n            \".json\"\n        )\n          .then(res => res.json())\n          .then(json => this.setState({ data: json }))\n      }\n    }\n  }\n\n  get = function(obj, key) {\n    return key.split(\".\").reduce(function(o, x) {\n      return typeof o == \"undefined\" || o === null ? o : o[x]\n    }, obj)\n  }\n\n  render() {\n    if (!this.props.id) {\n      return null\n    }\n    var wikidata_image = this.props.id\n    var url = \"\"\n    console.log(this.state.data)\n\n    wikidata_image = this.get(\n      this.state.data,\n      \"entities.\" + this.props.id + \".claims.P18.0.mainsnak.datavalue.value\"\n    )\n\n    if (!wikidata_image) {\n      return null\n    }\n\n    wikidata_image = wikidata_image.replace(/ /g, \"_\")\n\n    var wikidata_image_md5 = md5(wikidata_image)\n    console.log(wikidata_image_md5)\n\n    url =\n      \"https://upload.wikimedia.org/wikipedia/commons/thumb/\" +\n      wikidata_image_md5.substring(0, 1) +\n      \"/\" +\n      wikidata_image_md5.substring(0, 2) +\n      \"/\" +\n      wikidata_image +\n      \"/220px-\" +\n      wikidata_image\n    console.log(url)\n\n    return (\n      <Box>\n        <Image src={url} />\n      </Box>\n    )\n  }\n}\n\nexport default Wikidata\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Box, Heading, Text, Button } from \"rebass\"\nimport Wikidata from \"../components/wikidata\"\nconst axios = require(\"axios\")\n\nclass Peak extends React.Component {\n  static propTypes = {\n    /** Latitude and Longitude of the map centre in an array, eg [51, -1] **/\n    position: PropTypes.array,\n    name: PropTypes.string,\n    description: PropTypes.string,\n    image: PropTypes.string,\n    next: PropTypes.string,\n    elevation: PropTypes.string,\n    wikidata: PropTypes.string,\n    nextPeakCallback: PropTypes.func,\n  }\n\n  static defaultProps = {\n    position: [51, -1],\n    name: \"name\",\n    description: \"blah\",\n    image: \"\",\n    elevation: 0,\n    next: \"aa\",\n    wikidata: null,\n    nextPeakCallback: null,\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    var next_peak = this.props.next\n    if (next_peak !== \"\") {\n      next_peak = \" south of \" + next_peak\n    }\n\n    return (\n      <Box>\n        <Heading color=\"primary\">{this.props.name}</Heading>\n        <Text>\n          At {this.props.elevation}m {this.props.name} is the highest point in\n          the UK{next_peak}\n        </Text>\n        {this.props.prevPeakCallback && (\n          <Button onClick={this.props.prevPeakCallback}>PREV</Button>\n        )}\n        {this.props.nextPeakCallback && (\n          <Button onClick={this.props.nextPeakCallback}>NEXT</Button>\n        )}\n        <Wikidata id={this.props.wikidata} />\n      </Box>\n    )\n  }\n}\n\nexport default Peak\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Peak from \"../components/peak\"\n\nclass PeaksList extends React.Component {\n  static propTypes = {\n    peaks: PropTypes.array,\n    updateMapPositionCallback: PropTypes.func,\n  }\n\n  static defaultProps = {\n    peaks: [],\n    updateMapPositionCallback: null,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { activePeak: 0 }\n  }\n\n  prevPeak() {\n    var prev_peak_idx = this.state.activePeak - 1\n    this.setState({ activePeak: prev_peak_idx })\n    if (this.props.updateMapPositionCallback) {\n      this.props.updateMapPositionCallback([\n        this.props.peaks[prev_peak_idx].geometry.envelope.minY,\n        this.props.peaks[prev_peak_idx].geometry.envelope.minX,\n      ])\n    }\n  }\n\n  nextPeak() {\n    var next_peak_idx = this.state.activePeak + 1\n    this.setState({ activePeak: next_peak_idx })\n    if (this.props.updateMapPositionCallback) {\n      this.props.updateMapPositionCallback([\n        this.props.peaks[next_peak_idx].geometry.envelope.minY,\n        this.props.peaks[next_peak_idx].geometry.envelope.minX,\n      ])\n    }\n  }\n\n  render() {\n    var peak = this.props.peaks[this.state.activePeak]\n    var next_peak_name = \"\"\n    var next_peak_callback = null\n    var prev_peak_callback =\n      this.state.activePeak == 0 ? null : this.prevPeak.bind(this)\n    if (this.state.activePeak + 1 < this.props.peaks.length) {\n      next_peak_name = this.props.peaks[this.state.activePeak + 1].featureFields\n        .name\n      next_peak_callback = this.nextPeak.bind(this)\n    }\n    return (\n      <Peak\n        id={peak.featureFields.name}\n        name={peak.featureFields.name}\n        elevation={peak.featureFields.ele}\n        wikidata={peak.featureFields.wikidata}\n        position={[peak.geometry.envelope.minY, peak.geometry.envelope.minX]}\n        next={next_peak_name}\n        nextPeakCallback={next_peak_callback}\n        prevPeakCallback={prev_peak_callback}\n      />\n    )\n  }\n}\n\nexport default PeaksList\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport PeaksList from \"../components/peakslist\"\nimport { Flex, Box } from \"rebass\"\nimport LeafletMap from \"../components/leafletmap\"\n\nclass PeaksAndMap extends React.Component {\n  static propTypes = {\n    peaks: PropTypes.array,\n  }\n\n  static defaultProps = {\n    peaks: [],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { position: [30, 20] }\n  }\n\n  updateMapPosition(position) {\n    this.setState({ position: position })\n  }\n\n  render() {\n    return (\n      <>\n        <Box width={1 / 3}>\n          <PeaksList\n            updateMapPositionCallback={this.updateMapPosition.bind(this)}\n            peaks={this.props.peaks}\n          />\n        </Box>\n        <Box width={2 / 3} height={900}>\n          {typeof window !== \"undefined\" && (\n            <LeafletMap position={this.state.position} zoom={11} />\n          )}\n        </Box>\n      </>\n    )\n  }\n}\n\nexport default PeaksAndMap\n","import React from \"react\"\nimport Layout from \"../components/layout\"\nimport { Box } from \"rebass\"\nimport LeafletMap from \"../components/leafletmap\"\nimport PeaksAndMap from \"../components/peaksandmap\"\n\nconst IndexPage = ({ data }) => {\n  const highestPeaks = [data.allGeoFeature.edges[0].node]\n  data.allGeoFeature.edges.forEach(function(edge) {\n    if (\n      parseInt(edge.node.featureFields.ele) >\n      parseInt(highestPeaks[highestPeaks.length - 1].featureFields.ele)\n    ) {\n      highestPeaks.push(edge.node)\n    }\n  })\n\n  return (\n    <Layout>\n      <PeaksAndMap peaks={highestPeaks} />\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query {\n    allGeoFeature(\n      sort: { fields: geometry___envelope___minY, order: ASC }\n      filter: {\n        featureFields: { name: { ne: null }, ele: { regex: \"/^[0-9]+$/\" } }\n      }\n    ) {\n      edges {\n        node {\n          id\n          geometry {\n            envelope {\n              minY\n              minX\n            }\n          }\n          featureFields {\n            name\n            ele\n            wikidata\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default IndexPage\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport loader from \"./loader\"\n\nconst prefetchPathname = loader.enqueue\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n  prefetchPathname,\n}\n","/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport { Flex, Box, Heading, Text } from \"rebass\"\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Flex flexWrap=\"wrap\">\n          <Box width={1 / 1}>\n            <Heading fontSize={[5, 6, 7]} color=\"primary\">\n              Highest point south of\n            </Heading>\n          </Box>\n          <Box width={1 / 1}>\n            <Text>An interactive map of highest points south of</Text>\n          </Box>\n        </Flex>\n        <Flex>{children}</Flex>\n        <Flex>\n          <Box width={1 / 1}>\n            ss\n          </Box>\n        </Flex>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n"],"sourceRoot":""}