(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{204:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(218),i=a(209),s=a(284),p=a(285),l=a(283),c=a(286);a(248);var u=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).mapRef=null,a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o=n.prototype;return o.componentDidUpdate=function(e,t){null!=this.mapRef.leafletElement&&this.mapRef.leafletElement.flyTo(this.props.position,11)},o.positionMap=function(e){this.setState({position:e})},o.render=function(){var e=this;return r.a.createElement(s.a,{ref:function(t){return e.mapRef=t},center:this.props.position,zoom:this.props.zoom},r.a.createElement(p.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),""!==this.props.markerText&&r.a.createElement(l.a,{position:this.props.position},r.a.createElement(c.a,null,this.props.markerText)))},n}(r.a.Component);u.defaultProps={position:[51,-1],zoom:11,markerText:""};var h=u,d=(a(25),a(12),a(23),a(258)),m=a.n(d);a(227);var f=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).get=function(e,t){return t.split(".").reduce(function(e,t){return null==e?e:e[t]},e)},a.state={data:[]},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o=n.prototype;return o.componentDidUpdate=function(e,t){var a=this;e.id!=this.props.id&&this.props.id&&fetch("https://www.wikidata.org/wiki/Special:EntityData/"+this.props.id+".json").then(function(e){return e.json()}).then(function(e){return a.setState({data:e})})},o.render=function(){if(!this.props.id)return null;var e,t=this.props.id;if(console.log(this.state.data),!(t=this.get(this.state.data,"entities."+this.props.id+".claims.P18.0.mainsnak.datavalue.value")))return null;t=t.replace(/ /g,"_");var a=m()(t);return console.log(a),e="https://upload.wikimedia.org/wikipedia/commons/thumb/"+a.substring(0,1)+"/"+a.substring(0,2)+"/"+t+"/220px-"+t,console.log(e),r.a.createElement(i.a,null,r.a.createElement(i.e,{src:e}))},n}(r.a.Component);f.defaultProps={id:null};var v=f;a(227);var k=function(e){var t,a;function n(t){return e.call(this,t)||this}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,n.prototype.render=function(){var e=this.props.next;return""!==e&&(e=" south of "+e),r.a.createElement(i.a,null,r.a.createElement(i.d,{color:"primary"},this.props.name),r.a.createElement(i.f,null,"At ",this.props.elevation,"m ",this.props.name," is the highest point in the UK",e),this.props.prevPeakCallback&&r.a.createElement(i.b,{onClick:this.props.prevPeakCallback},"PREV"),this.props.nextPeakCallback&&r.a.createElement(i.b,{onClick:this.props.nextPeakCallback},"NEXT"),r.a.createElement(v,{id:this.props.wikidata}))},n}(r.a.Component);k.defaultProps={position:[51,-1],name:"name",description:"blah",image:"",elevation:0,next:"aa",wikidata:null,nextPeakCallback:null};var y=k;var E=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).state={activePeak:0},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o=n.prototype;return o.prevPeak=function(){var e=this.state.activePeak-1;this.setState({activePeak:e}),this.props.updateMapPositionCallback&&this.props.updateMapPositionCallback([this.props.peaks[e].geometry.envelope.minY,this.props.peaks[e].geometry.envelope.minX])},o.nextPeak=function(){var e=this.state.activePeak+1;this.setState({activePeak:e}),this.props.updateMapPositionCallback&&this.props.updateMapPositionCallback([this.props.peaks[e].geometry.envelope.minY,this.props.peaks[e].geometry.envelope.minX])},o.render=function(){var e=this.props.peaks[this.state.activePeak],t="",a=null,n=0==this.state.activePeak?null:this.prevPeak.bind(this);return this.state.activePeak+1<this.props.peaks.length&&(t=this.props.peaks[this.state.activePeak+1].featureFields.name,a=this.nextPeak.bind(this)),r.a.createElement(y,{id:e.featureFields.name,name:e.featureFields.name,elevation:e.featureFields.ele,wikidata:e.featureFields.wikidata,position:[e.geometry.envelope.minY,e.geometry.envelope.minX],next:t,nextPeakCallback:a,prevPeakCallback:n})},n}(r.a.Component);E.defaultProps={peaks:[],updateMapPositionCallback:null};var g=E;var P=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).state={position:[30,20]},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o=n.prototype;return o.updateMapPosition=function(e){this.setState({position:e})},o.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{width:1/3},r.a.createElement(g,{updateMapPositionCallback:this.updateMapPosition.bind(this),peaks:this.props.peaks})),r.a.createElement(i.a,{width:2/3,height:900},"undefined"!=typeof window&&r.a.createElement(h,{position:this.state.position,zoom:11})))},n}(r.a.Component);P.defaultProps={peaks:[]};var b=P;a.d(t,"query",function(){return w});var w="1311196967";t.default=function(e){var t=e.data,a=[t.allGeoFeature.edges[0].node];return t.allGeoFeature.edges.forEach(function(e){parseInt(e.node.featureFields.ele)>parseInt(a[a.length-1].featureFields.ele)&&a.push(e.node)}),r.a.createElement(o.a,null,r.a.createElement(b,{peaks:a}))}},211:function(e,t,a){var n;e.exports=(n=a(216))&&n.default||n},215:function(e){e.exports={data:{site:{siteMetadata:{title:"Highest point south of"}}}}},216:function(e,t,a){"use strict";a.r(t);a(18);var n=a(0),r=a.n(n),o=a(116);t.default=function(e){var t=e.location,a=e.pageResources;return a?r.a.createElement(o.a,Object.assign({location:t,pageResources:a},a.json)):null}},218:function(e,t,a){"use strict";var n=a(215),r=a(0),o=a.n(r),i=(a(79),a(211),a(11).default.enqueue,o.a.createContext({}));function s(e){var t=e.staticQueryData,a=e.data,n=e.query,r=e.render,i=a?a.data:t[n]&&t[n].data;return o.a.createElement(o.a.Fragment,null,i&&r(i),!i&&o.a.createElement("div",null,"Loading (StaticQuery)"))}var p=function(e){var t=e.data,a=e.query,n=e.render,r=e.children;return o.a.createElement(i.Consumer,null,function(e){return o.a.createElement(s,{data:t,query:a,render:n||r,staticQueryData:e})})};var l=a(209);t.a=function(e){var t=e.children;return o.a.createElement(p,{query:"755544856",render:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.c,{flexWrap:"wrap"},o.a.createElement(l.a,{width:1},o.a.createElement(l.d,{fontSize:[5,6,7],color:"primary"},"Highest point south of")),o.a.createElement(l.a,{width:1},o.a.createElement(l.f,null,"An interactive map of highest points south of"))),o.a.createElement(l.c,null,t),o.a.createElement(l.c,null,o.a.createElement(l.a,{width:1},"ss")))},data:n})}}}]);
//# sourceMappingURL=component---src-pages-index-js-665bd37fabcc53045a73.js.map